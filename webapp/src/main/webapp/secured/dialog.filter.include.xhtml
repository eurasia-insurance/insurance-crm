<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:comp="http://xmlns.jcp.org/jsf/composite"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

	<f:subview>

		<!-- >> dialog -->
		<p:dialog widgetVar="#{dialogWV}" header="Настройка выборки"
			closeOnEscape="false" modal="true" closable="false" resizable="false"
			position="center top" width="900" height="500">

			<h:panelGroup id="content">

				<p:toolbar>
					<f:facet name="right">
						<p:commandButton value="Применить" process="@this"
							update="#{update}"
							oncomplete="hideIfValidated(PF('#{dialogWV}'), args)" />
						<p:commandButton value="Очистить"
							action="#{mainFacade.doResetFilter}" process="@this"
							update="content" />
					</f:facet>
				</p:toolbar>

				<ui:include src="filter.basic.include.xhtml">
					<ui:param name="filterChangedAjaxDelay" value="0" />
					<ui:param name="update" value="" />
				</ui:include>
				<ui:include src="filter.advanced.include.xhtml">
					<ui:param name="filterChangedAjaxDelay" value="0" />
					<ui:param name="update" value="" />
				</ui:include>

				<p:toolbar>
					<f:facet name="right">
						<p:commandButton value="Применить" process="@this"
							update="#{update}"
							oncomplete="hideIfValidated(PF('#{dialogWV}'), args)" />
						<p:commandButton value="Очистить"
							action="#{mainFacade.doResetFilter}" process="@this"
							update="content" />
					</f:facet>
				</p:toolbar>

			</h:panelGroup>

		</p:dialog>
		<!-- << dialog -->

	</f:subview>

</ui:composition>