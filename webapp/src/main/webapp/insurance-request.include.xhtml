<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:comp="http://xmlns.jcp.org/jsf/composite"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

	<style>
.ui-panelgrid {
	width: 100%;
}

.ui-panelgrid, .ui-panelgrid .ui-panelgrid-cell {
	border-style: hidden;
	/* 	 10px solid black; */
	vertical-align: top;
}
</style>

	<h3 style="margin-top: 0">
		<h:outputText
			value="Заявка # #{insuranceRequest.value.id} : #{insuranceProductTypeService.displayName(insuranceRequest.value.productType)}" />
	</h3>


	<!-- >> rendered POLICY -->
	<h:panelGroup
		rendered="#{insuranceRequest.value.productType == 'POLICY'}">
		<ui:include src="insurance-request.menu.include.xhtml" />
		<p:accordionPanel dynamic="true" cache="true" activeIndex="0">
			<p:tab title="Общие сведения">
				<ui:include src="insurance-request.general.include.xhtml" />
			</p:tab>
			<p:tab title="Доставка"
				rendered="#{insuranceRequest.value.obtaining.method == 'DELIVERY'}">
				<ui:include src="insurance-request.obtaining.delivery.include.xhtml" />
			</p:tab>
			<p:tab title="Самовывоз"
				rendered="#{insuranceRequest.value.obtaining.method == 'PICKUP'}">
				<ui:include src="insurance-request.obtaining.pickup.include.xhtml" />
			</p:tab>
			<p:tab title="Оплата">
				<ui:include src="insurance-request.payment.include.xhtml" />
			</p:tab>
			<p:tab title="Список застрахованных водителей">
				<ui:include src="insurance-request.policy.drivers.include.xhtml" />
			</p:tab>
			<p:tab title="Список застрахованных транспортных средств">
				<ui:include src="insurance-request.policy.vehicles.include.xhtml" />
			</p:tab>
		</p:accordionPanel>
	</h:panelGroup>
	<!-- << rendered POLICY -->

	<!-- >> rendered CASCO -->
	<h:panelGroup
		rendered="#{insuranceRequest.value.productType == 'CASCO'}">
		<ui:include src="insurance-request.menu.include.xhtml" />
		<p:accordionPanel dynamic="true" cache="true" activeIndex="0">
			<p:tab title="Общие сведения">
				<ui:include src="insurance-request.general.include.xhtml" />
			</p:tab>
			<p:tab title="Доставка"
				rendered="#{insuranceRequest.value.obtaining.method == 'DELIVERY'}">
				<ui:include src="insurance-request.obtaining.delivery.include.xhtml" />
			</p:tab>
			<p:tab title="Самовывоз"
				rendered="#{insuranceRequest.value.obtaining.method == 'PICKUP'}">
				<ui:include src="insurance-request.obtaining.pickup.include.xhtml" />
			</p:tab>
			<p:tab title="Оплата">
				<ui:include src="insurance-request.payment.include.xhtml" />
			</p:tab>
			<p:tab title="Список водителей допущенных к управлению ТС">
				<ui:include src="insurance-request.casco.drivers.include.xhtml" />
			</p:tab>
			<p:tab title="Информация о застрахованном ТС">
				<!-- 				<ui:include src="insurance-request.casco.vehicle.include.xhtml" /> -->
			</p:tab>
		</p:accordionPanel>
	</h:panelGroup>
	<!-- << rendered CASCO -->

</ui:composition>
