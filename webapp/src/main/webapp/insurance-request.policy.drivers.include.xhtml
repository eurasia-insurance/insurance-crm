<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:dataTable value="#{insuranceRequest.value.policy.insuredDrivers}"
		var="driver">
		<p:column width="16">
			<p:rowToggler rendered="#{mainFacade.driverHasImages(driver)}" />
		</p:column>
		<p:column headerText="ИИН">
			<h:outputText value="#{driver.idNumber}" />
		</p:column>
		<p:column headerText="Класс">
			<h:outputText
				value="#{insuranceClassTypeService.displayName(driver.insuranceClassType)}" />
		</p:column>
		<p:column headerText="Водительский стаж">
			<h:outputText
				value="#{insuredExpirienceClassService.displayName(driver.expirienceClass)}" />
		</p:column>
		<p:column headerText="Возраст">
			<h:outputText
				value="#{insuredAgeClassService.displayName(driver.ageClass)}" />
		</p:column>
		<p:rowExpansion>
			<ui:decorate template="out-image.include.xhtml">
				<ui:param name="value"
					value="#{driver.driverLicenseData.scan.frontside}" />
			</ui:decorate>
			<ui:decorate template="out-image.include.xhtml">
				<ui:param name="value"
					value="#{driver.driverLicenseData.scan.backside}" />
			</ui:decorate>
			<ui:decorate template="out-image.include.xhtml">
				<ui:param name="value"
					value="#{driver.identityCardData.scan.frontside}" />
			</ui:decorate>
			<ui:decorate template="out-image.include.xhtml">
				<ui:param name="value"
					value="#{driver.identityCardData.scan.backside}" />
			</ui:decorate>
		</p:rowExpansion>
	</p:dataTable>

</ui:composition>
