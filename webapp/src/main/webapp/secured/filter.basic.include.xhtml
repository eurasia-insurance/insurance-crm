<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:o="http://omnifaces.org/ui" xmlns:p="http://primefaces.org/ui"
	xmlns:crm="http://xmlns.jcp.org/jsf/composite/crm" xmlns:lpf="http://lapsa.tech/primefaces">

	<o:importConstants type="tech.lapsa.insurance.crm.beans.i.RequestType" />

	<f:subview>

		<p:panel>
			<p:panelGrid id="archivedButtonsWrapper">
				<p:row>
					<p:column>
						<p:commandLink process="@this" update="#{update} archivedButtonsWrapper" value="Входящие" style="#{settings.requestFilter.showInbox ? 'font-weight: bold' : ''}" action="#{settings.requestFilter.letShowInbox}" />
					</p:column>
					<p:column>
						<p:commandLink process="@this" update="#{update} archivedButtonsWrapper" value="Архив" style="#{settings.requestFilter.showArchived ? 'font-weight: bold' : ''}" action="#{settings.requestFilter.letShowArchived}" />
					</p:column>
					<p:column>
						<p:commandLink process="@this" update="#{update} archivedButtonsWrapper" value="Все" style="#{settings.requestFilter.showAll ? 'font-weight: bold' : ''}" action="#{settings.requestFilter.letShowAll}">
						</p:commandLink>
					</p:column>
					<p:column>
						<h:panelGroup styleClass="ui-separator">
							<h:panelGroup class="ui-icon ui-icon-grip-dotted-vertical" />
						</h:panelGroup>
					</p:column>
					<p:column>
						<p:outputLabel value="Стадия:" for="progressStatus" />
					</p:column>
					<p:column>
						<p:selectOneMenu id="progressStatus" value="#{settings.requestFilter.progressStatus}">
							<p:ajax process="@this" update="#{update}" delay="#{filterChangedAjaxDelay}" />
							<f:selectItem value="#{configurationFacade.anySI}" />
							<f:selectItems value="#{si.array.regular(ProgressStatus.all)}" />
						</p:selectOneMenu>
					</p:column>
					<p:column>
						<p:outputLabel value="Номер заявки:" for="id" />
					</p:column>
					<p:column>
						<p:inputText id="id" value="#{settings.requestFilter.id}" size="8">
							<p:ajax event="change" process="@this" update="#{update}" delay="#{filterChangedAjaxDelay}" />
						</p:inputText>
					</p:column>
					<p:column>
						<p:outputLabel value="Имя заявителя:" for="requesterNameMask" />
					</p:column>
					<p:column>
						<p:inputText id="requesterNameMask" value="#{settings.requestFilter.requesterNameMask}">
							<p:ajax event="change" process="@this" update="#{update}" delay="#{filterChangedAjaxDelay}" />
						</p:inputText>
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:panel>

	</f:subview>

</ui:composition>
