<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:dataTable value="#{insuranceRequest.value.policy.insuredVehicles}"
		var="vehicle">
		<p:column width="16">
			<p:rowToggler rendered="#{mainFacade.vehicleHasImages(vehicle)}" />
		</p:column>
		<p:column headerText="Регион авто">
			<h:outputText value="#{kzAreaService.displayName(vehicle.area)}" />
		</p:column>
		<p:column headerText="Город">
			<h:outputText value="#{kzCityService.displayName(vehicle.city)}" />
		</p:column>
		<p:column headerText="Возраст авто">
			<h:outputText
				value="#{vehicleAgeClassService.displayName(vehicle.vehicleAgeClass)}" />
		</p:column>
		<p:column headerText="Класс авто">
			<h:outputText
				value="#{vehicleClassService.displayName(vehicle.vehicleClass)}" />
		</p:column>
		<p:rowExpansion>
			<ui:decorate template="out-image.include.xhtml">
				<ui:param name="value"
					value="#{vehicle.vehicleData.certificateData.scan.frontside}" />
			</ui:decorate>
			<ui:decorate template="out-image.include.xhtml">
				<ui:param name="value"
					value="#{vehicle.vehicleData.certificateData.scan.backside}" />
			</ui:decorate>
		</p:rowExpansion>
	</p:dataTable>

</ui:composition>
