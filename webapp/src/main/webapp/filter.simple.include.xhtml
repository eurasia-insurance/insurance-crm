<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<f:subview>

		<!-- >> rendered -->
		<h:panelGroup rendered="#{not insuranceRequestsFilter.advanced}">

			<p:panelGrid columns="2">

				<p:panel header="Отбор">

					<p:panelGrid>
						<p:row>
							<!-- >> status -->
							<p:column>
								<p:outputLabel value="Стадия:" for="progressStatus" />
							</p:column>
							<p:column>
								<p:selectOneMenu id="progressStatus"
									value="#{insuranceRequestsFilter.progressStatus}">
									<p:ajax process="@this" update="@form"
										listener="#{mainFacade.onFilterChanged}" />
									<f:selectItem value="#{configurationFacade.anySI}" />
									<f:selectItems value="#{progressStatusService.allItemsShortSI}" />
								</p:selectOneMenu>
							</p:column>
							<!-- << status -->

							<!-- >> id -->
							<p:column>
								<p:outputLabel value="Номер заявки:" for="id" />
							</p:column>
							<p:column>
								<p:inputNumber id="id" value="#{insuranceRequestsFilter.id}"
									decimalPlaces="0" minValue="0" size="5">
									<p:ajax event="keyup" delay="700" process="@this"
										update="@form" listener="#{mainFacade.onFilterChanged}" />
								</p:inputNumber>
							</p:column>
							<!-- << id -->

							<!-- >> requesterNameMask -->
							<p:column>
								<p:outputLabel value="Имя заявителя:" for="requesterNameMask" />
							</p:column>
							<p:column>
								<p:inputText id="requesterNameMask"
									value="#{insuranceRequestsFilter.requesterNameMask}">
									<p:ajax event="keyup" delay="700" process="@this"
										update="@form" listener="#{mainFacade.onFilterChanged}" />
								</p:inputText>
							</p:column>
							<!-- << requesterNameMask -->

						</p:row>
					</p:panelGrid>
				</p:panel>

			</p:panelGrid>

			<p:panelGrid columns="2">

				<p:panel header="Поступило">
					<p:panelGrid>
						<p:row>
							<p:column>
								<p:commandButton value="За сегодня"
									action="#{mainFacade.doFilterCreatedToday}" process="@this"
									update="@form" />
							</p:column>
							<p:column>
								<p:commandButton value="За вчера"
									action="#{mainFacade.doFilterCreatedYesterday}" process="@this"
									update="@form" />
							</p:column>
							<p:column>
								<p:commandButton value="С начала недели"
									action="#{mainFacade.doFilterCreatedThisWeek}" process="@this"
									update="@form" />
							</p:column>
							<p:column>
								<p:commandButton value="С начала месяца"
									action="#{mainFacade.doFilterCreatedThisMonth}" process="@this"
									update="@form" />
							</p:column>
						</p:row>
					</p:panelGrid>
				</p:panel>

				<p:panel header="Завершено">
					<p:panelGrid>
						<p:row>
							<p:column>
								<p:commandButton value="За сегодня"
									action="#{mainFacade.doFilterCompletedToday}" process="@this"
									update="@form" />
							</p:column>
							<p:column>
								<p:commandButton value="За вчера"
									action="#{mainFacade.doFilterCompletedYesterday}"
									process="@this" update="@form" />
							</p:column>
							<p:column>
								<p:commandButton value="С начала недели"
									action="#{mainFacade.doFilterCompletedThisWeek}"
									process="@this" update="@form" />
							</p:column>
							<p:column>
								<p:commandButton value="С начала месяца"
									action="#{mainFacade.doFilterCompletedThisMonth}"
									process="@this" update="@form" />
							</p:column>
						</p:row>
					</p:panelGrid>
				</p:panel>

			</p:panelGrid>
		</h:panelGroup>
		<!-- << rendered -->

	</f:subview>

</ui:composition>
